Client connects to running server

Server stores the directory in its PWD
Client passes in directory to sync + serverIP

Client sends dirName + modifiedTime
Server sends Exists or not
If file exists on server && server modified last
   update client file
else
   update server file
move to next file

Server sends dirName
Client sends exists or not
if does not exist
   ask if would like to delete servers copy
   if yes
     delete server copy
   if no
     send server copy to client
   if noALL
     set noAll flag and always take servers copy
   else {default}
     do nothing
move to next file
end



2 way talking:

CLIENT: dirName
Server: EXISTS or NOEXISTS
   
if directory
   CLIENT: dirName DiR
   SERVER: OK
else
   CLIENT: fileName lastModified
   SERVER: OK or NO
   if OK
      CLIENT: SEND FILE
      SERVER: OK
   else
      CLIENT: OK
      SERVER: SEND FILE
      CLIENT: OK
      SERVER: SEND LAST MODIFIED
   end
end

CLIENT: DONE

if EXISTS
   if directory
      SERVER: dirName DiR
      CLIENT: OK or NO
      if NO
         SERVER: OK
         CLIENT: ask user if he/she would like to delete servers copy
                 reply YE (delete) or NO (get servers copy)
                 or DN (do nothing)
         if YE
            SERVER: delete directory
         if NO
            CLIENT: make directory
         if DN
            do nothing
         end
      end
   else
      SERVER: fileName
      CLIENT: OK or NO
      if NO
         SERVER: OK
         CLIENT: ask user if he/she would like to delete servers copy
                 reply YE (delete) or NO (get servers copy)
                 or DN (do nothing)
         if YE
            SERVER: delete file
         if NO
            SERVER: SEND FILE
            CLIENT: OK
            SERVER: SEND LASTMODIFIED
            CLIENT: OK
         if DN
            do nothing
         end
      end
   end
end

